import React, { useRef } from 'react';

import TitleApp from 'components/titleApp';
import RotatingImage from 'components/rotatingImage';
import Music from 'components/music';
import StatisticGame from 'components/statisticGame';
import NamesAndRooms from 'components/namesAndRooms';
import GameStart from 'pages/gameStart';
import GameOver from 'pages/gameOver';
import GamePlay from 'pages/gamePlay';
import GridsPlayers from 'pages/gamePlay/components/gridsPlayers';
import {createGrid} from 'services/utils';

import 'css/global.css';

const MainPage = () => {
    const stateGame = 'play' // start | play | over
    const statisticsRef = useRef(undefined);

    const Page = () => {
        switch (stateGame) {
            case 'start':
                return (<GameStart
                            isSinglePlayerGame={false}
                            isAdmin={true}/>)
            case 'play':
                return (<GamePlay statisticsRef={statisticsRef}/>)
            case 'over':
                return (<GameOver
                            isSinglePlayerGame={false}
                            isAdmin={false}/>)
            case 'testGridsPlayers':
                const array = Array(10).fill(createGrid({
                    color: undefined,
                    isActive: false,
                    isLanded: false,
                    isLandingPlace: false
                }))
                console.log(array)
                return <GridsPlayers grids={array}/>
        }
    }

    const Test = () => {
        const array = Array(10).fill(createGrid({
            color: undefined,
            isActive: false,
            isLanded: false,
            isLandingPlace: false
        }))
        return <GridsPlayers grids={array}/>
    }

    // return (
    //     <div className='main'>
    //         {/* <div className='main__title'>
    //             <TitleApp/>
    //         </div> */}
    //         <div className='main__content'>
    //             <NamesAndRooms/>
    //             <Page/>
    //             <StatisticGame isPlay={true} statisticsRef={statisticsRef}/>
    //         </div>
    //         <div className='main__decors'>
    //             <div style={{alignItems: 'flex-end',
    //                         display: 'flex',
    //                         justifyContent: 'start'}}>
    //                 <RotatingImage/>
    //                 <div style={{width: '10px'}}/>
    //                 <Music/>
    //             </div>
    //             <Test/>
    //         </div>
            
    //     </div>
    // )

    return (
        <div className='main'>
            <div className='main__column-left'>
                <div className='main__title-wrapper'>
                    <TitleApp/>
                </div>
                <div className='main__box-left-wrapper'>
                    <NamesAndRooms/>
                </div>
                <div className='main__decore-left-wrapper'>
                    <RotatingImage/>
                    <Music/>
                </div>
            </div>
            <div className='main__column-center'>
                <Page/>
            </div>
            <div className='main__column-right'>
                <div className='main__box-right-wrapper'>
                    <StatisticGame isPlay={true} statisticsRef={statisticsRef}/>
                </div>
                <div className='main__decore-right-wrapper'>
                    <Test/>
                </div>
                
            </div>
        </div>
    )
}

export default MainPage
